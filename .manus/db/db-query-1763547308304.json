{
  "query": "SELECT \n  s.id, s.status, s.completedHotels, s.totalHotels,\n  COUNT(sr.id) as total_results,\n  SUM(CASE WHEN sr.price > 0 THEN 1 ELSE 0 END) as results_with_prices,\n  MIN(sr.price) as min_price,\n  MAX(sr.price) as max_price,\n  AVG(CASE WHEN sr.price > 0 THEN sr.price ELSE NULL END) as avg_price\nFROM scans s\nLEFT JOIN scanResults sr ON s.id = sr.scanId\nWHERE s.id = 30002\nGROUP BY s.id;",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3gaYF7se9kVaEXG.b9054b9f64d3 --database N26k37rfuZW3JrMwUJG4CN --execute SELECT \n  s.id, s.status, s.completedHotels, s.totalHotels,\n  COUNT(sr.id) as total_results,\n  SUM(CASE WHEN sr.price > 0 THEN 1 ELSE 0 END) as results_with_prices,\n  MIN(sr.price) as min_price,\n  MAX(sr.price) as max_price,\n  AVG(CASE WHEN sr.price > 0 THEN sr.price ELSE NULL END) as avg_price\nFROM scans s\nLEFT JOIN scanResults sr ON s.id = sr.scanId\nWHERE s.id = 30002\nGROUP BY s.id;",
  "rows": [
    {
      "id": "30002",
      "status": "running",
      "completedHotels": "0",
      "totalHotels": "2",
      "total_results": "0",
      "results_with_prices": "0",
      "min_price": "NULL",
      "max_price": "NULL",
      "avg_price": "NULL"
    }
  ],
  "messages": [],
  "stdout": "id\tstatus\tcompletedHotels\ttotalHotels\ttotal_results\tresults_with_prices\tmin_price\tmax_price\tavg_price\n30002\trunning\t0\t2\t0\t0\tNULL\tNULL\tNULL\n",
  "stderr": "",
  "execution_time_ms": 11029
}